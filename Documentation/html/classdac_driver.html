<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Signal Generator: dacDriver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Signal Generator
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classdac_driver-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">dacDriver Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Driver for the DAC.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dac_driver_8h_source.html">dacDriver.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2c5ca54ffd9e5eae2dc351ce06c01b8d" id="r_a2c5ca54ffd9e5eae2dc351ce06c01b8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c5ca54ffd9e5eae2dc351ce06c01b8d">dacDriver</a> (DAC_HandleTypeDef *hdacI, const uint32_t DacChannel1I, TIM_HandleTypeDef *timer1Il, <a class="el" href="classsignal_queue.html">signalQueue</a> *channel1I)</td></tr>
<tr class="memdesc:a2c5ca54ffd9e5eae2dc351ce06c01b8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructs an <a class="el" href="classdac_driver.html" title="Driver for the DAC.">dacDriver</a> object.  <br /></td></tr>
<tr class="separator:a2c5ca54ffd9e5eae2dc351ce06c01b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb84622c841d2bb3cd7cfd64d9badd24" id="r_aeb84622c841d2bb3cd7cfd64d9badd24"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb84622c841d2bb3cd7cfd64d9badd24">update</a> ()</td></tr>
<tr class="memdesc:aeb84622c841d2bb3cd7cfd64d9badd24"><td class="mdescLeft">&#160;</td><td class="mdescRight">updates the output signal if new data is available  <br /></td></tr>
<tr class="separator:aeb84622c841d2bb3cd7cfd64d9badd24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7cffebee383fac8e692862e8bfb5f6" id="r_ace7cffebee383fac8e692862e8bfb5f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace7cffebee383fac8e692862e8bfb5f6">getFreq</a> (uint16_t *freq)</td></tr>
<tr class="memdesc:ace7cffebee383fac8e692862e8bfb5f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current frequency.  <br /></td></tr>
<tr class="separator:ace7cffebee383fac8e692862e8bfb5f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad873b82702f04f15da51ded96f7e6e57" id="r_ad873b82702f04f15da51ded96f7e6e57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad873b82702f04f15da51ded96f7e6e57">getAmp</a> (uint16_t *amp)</td></tr>
<tr class="memdesc:ad873b82702f04f15da51ded96f7e6e57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current amplitude.  <br /></td></tr>
<tr class="separator:ad873b82702f04f15da51ded96f7e6e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4cbdd12e2b3efc4fe2ee06eb8847212" id="r_ac4cbdd12e2b3efc4fe2ee06eb8847212"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac4cbdd12e2b3efc4fe2ee06eb8847212">getShift</a> (uint16_t *shift)</td></tr>
<tr class="memdesc:ac4cbdd12e2b3efc4fe2ee06eb8847212"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current phase shift.  <br /></td></tr>
<tr class="separator:ac4cbdd12e2b3efc4fe2ee06eb8847212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879c0ddc7b100183eb2924ec7f0a0827" id="r_a879c0ddc7b100183eb2924ec7f0a0827"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a879c0ddc7b100183eb2924ec7f0a0827">getWave</a> (<a class="el" href="structs_and_enums_8h.html#aa8cbf050205d304ce653097b8170e050">WaveShape</a> *shape)</td></tr>
<tr class="memdesc:a879c0ddc7b100183eb2924ec7f0a0827"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current wave shape.  <br /></td></tr>
<tr class="separator:a879c0ddc7b100183eb2924ec7f0a0827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfdee2472f5689e566a028d7edb14a03" id="r_adfdee2472f5689e566a028d7edb14a03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adfdee2472f5689e566a028d7edb14a03">restartDMA</a> ()</td></tr>
<tr class="memdesc:adfdee2472f5689e566a028d7edb14a03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restarts DMA.  <br /></td></tr>
<tr class="separator:adfdee2472f5689e566a028d7edb14a03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Driver for the DAC. </p>
<p>This class takes data from a signelQueue and processes to output signals from the DAC. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2c5ca54ffd9e5eae2dc351ce06c01b8d" name="a2c5ca54ffd9e5eae2dc351ce06c01b8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c5ca54ffd9e5eae2dc351ce06c01b8d">&#9670;&#160;</a></span>dacDriver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dacDriver::dacDriver </td>
          <td>(</td>
          <td class="paramtype">DAC_HandleTypeDef *</td>          <td class="paramname"><span class="paramname"><em>hdacI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t</td>          <td class="paramname"><span class="paramname"><em>DacChannel1I</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TIM_HandleTypeDef *</td>          <td class="paramname"><span class="paramname"><em>timer1Il</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsignal_queue.html">signalQueue</a> *</td>          <td class="paramname"><span class="paramname"><em>channel1I</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>constructs an <a class="el" href="classdac_driver.html" title="Driver for the DAC.">dacDriver</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdacI</td><td>a DAC_HandleTypeDef, the hardware DAC's API. </td></tr>
    <tr><td class="paramname">DacChannel1I</td><td>a uint32_t containing the channel name. </td></tr>
    <tr><td class="paramname">timer1Il</td><td>a TIM_HandleTypeDef to be used with DMA for the DAC. </td></tr>
    <tr><td class="paramname">channel1I</td><td>a <a class="el" href="classsignal_queue.html" title="Queue for the application layer to the dacDrivers.">signalQueue</a> where signal data will be aquired to drive the DAC.</td></tr>
  </table>
  </dd>
</dl>
<p>Sets up a <a class="el" href="classdac_driver.html" title="Driver for the DAC.">dacDriver</a>, starts DMA at 12bit resolution </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad873b82702f04f15da51ded96f7e6e57" name="ad873b82702f04f15da51ded96f7e6e57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad873b82702f04f15da51ded96f7e6e57">&#9670;&#160;</a></span>getAmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dacDriver::getAmp </td>
          <td>(</td>
          <td class="paramtype">uint16_t *</td>          <td class="paramname"><span class="paramname"><em>amp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current amplitude. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">amp</td><td>uint16_t that will represent the amplitude of the current signal. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ace7cffebee383fac8e692862e8bfb5f6" name="ace7cffebee383fac8e692862e8bfb5f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace7cffebee383fac8e692862e8bfb5f6">&#9670;&#160;</a></span>getFreq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dacDriver::getFreq </td>
          <td>(</td>
          <td class="paramtype">uint16_t *</td>          <td class="paramname"><span class="paramname"><em>freq</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current frequency. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freq</td><td>A uint16_t that will represent the frequency of the current signal. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac4cbdd12e2b3efc4fe2ee06eb8847212" name="ac4cbdd12e2b3efc4fe2ee06eb8847212"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4cbdd12e2b3efc4fe2ee06eb8847212">&#9670;&#160;</a></span>getShift()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dacDriver::getShift </td>
          <td>(</td>
          <td class="paramtype">uint16_t *</td>          <td class="paramname"><span class="paramname"><em>shift</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current phase shift. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">shift</td><td>A uint8_t that will represen the phase shift of the current signal. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a879c0ddc7b100183eb2924ec7f0a0827" name="a879c0ddc7b100183eb2924ec7f0a0827"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879c0ddc7b100183eb2924ec7f0a0827">&#9670;&#160;</a></span>getWave()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dacDriver::getWave </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs_and_enums_8h.html#aa8cbf050205d304ce653097b8170e050">WaveShape</a> *</td>          <td class="paramname"><span class="paramname"><em>shape</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current wave shape. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">shape</td><td>A enum of type WaveShape that will represent the type of wave for the current signal. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adfdee2472f5689e566a028d7edb14a03" name="adfdee2472f5689e566a028d7edb14a03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfdee2472f5689e566a028d7edb14a03">&#9670;&#160;</a></span>restartDMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dacDriver::restartDMA </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restarts DMA. </p>
<p>The DMA channels can get out of sync when changing waveforms, to resolve this signals are restarted if the output is put into echo mode or when frequencies become equal to each other when they were not before </p>

</div>
</div>
<a id="aeb84622c841d2bb3cd7cfd64d9badd24" name="aeb84622c841d2bb3cd7cfd64d9badd24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb84622c841d2bb3cd7cfd64d9badd24">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dacDriver::update </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>updates the output signal if new data is available </p>
<dl class="section return"><dt>Returns</dt><dd>A bool if new data was found</dd></dl>
<p>Checks the signalQueueInstance, if there is data of a different frequency, set the new reload </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Users/townl/Documents/GitHub/Signal_Generator/Code/Core/Inc/Shane/<a class="el" href="dac_driver_8h_source.html">dacDriver.h</a></li>
<li>C:/Users/townl/Documents/GitHub/Signal_Generator/Code/Core/Src/Shane/<a class="el" href="dac_driver_8cpp.html">dacDriver.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
