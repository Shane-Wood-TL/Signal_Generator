<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Signal Generator: InputDriver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Signal Generator
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_input_driver-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">InputDriver Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_input_driver.html" title="InputDriver class holds pointers to all the other classes and uses them in an update function....">InputDriver</a> class holds pointers to all the other classes and uses them in an update function. The constructor for this class hold a pointer to three <a class="el" href="class_knob_driver.html" title="KnobDriver class determines if there is an input on any knobs present in the system (This system uses...">KnobDriver</a> classes, one <a class="el" href="class_switch_driver.html" title="SwitchDriver class determines if there is an input on the switch present in the system (This system u...">SwitchDriver</a> class, and one <a class="el" href="class_button_driver.html" title="ButtonDriver class determines if there is an input on the button present in the system (This system u...">ButtonDriver</a> class. It also holds a pointer to an <a class="el" href="classinput_queue.html" title="Queue for the outputDriver to the display.">inputQueue</a> instance, which is the location that all the inputs will be enqueued to, as well as a semaphore instance for the Knobs which will run all three knobs at the same time. The <a class="el" href="class_input_driver.html" title="InputDriver class holds pointers to all the other classes and uses them in an update function....">InputDriver</a> class also initializes an <a class="el" href="structinput_values.html" title="contains the values to be enqueued from the input driver">inputValues</a> struct which is where all the data from the inputs will be placed to be enqueued. The "checkForUpdates" member function does three things. Firstly, it fills the inputValue struct with values of 0 and then calls all the update functions from each instantiated input. The in this function the knob input driver update functions are only called when the semaphore reads true, this is done with two variables, knobSemaContents and knobSemaStatus, and an if statement. In each call of checkForUpdates, the struct will be filled with the proper inputs from the knob, button, and switch drivers. Secondly, after the <a class="el" href="structinput_values.html" title="contains the values to be enqueued from the input driver">inputValues</a> struct has been filled with the inputs from the latest call of the checkForUpdates function, each portion of the struct will be compared with a "no change" value, if there has been any change the <a class="el" href="structinput_values.html" title="contains the values to be enqueued from the input driver">inputValues</a> struct is immediately enqueued into the <a class="el" href="classinput_queue.html" title="Queue for the outputDriver to the display.">inputQueue</a>. Thirdly, in order for there to be a "no change" value for the switch, which only relays its current logic level, checkForUpdates runs a very basic state machine for the past and present values of the switch to detect if there has been any change. This uses two variables, switchPastState and switchPreviousState.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="nathan_8h_source.html">nathan.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad9efc69d04381610239f44003008ac97" id="r_ad9efc69d04381610239f44003008ac97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9efc69d04381610239f44003008ac97">InputDriver</a> (<a class="el" href="class_knob_driver.html">KnobDriver</a> *AmpKnobI, <a class="el" href="class_knob_driver.html">KnobDriver</a> *FreqKnobI, <a class="el" href="class_knob_driver.html">KnobDriver</a> *ShiftKnobI, <a class="el" href="class_switch_driver.html">SwitchDriver</a> *channelSwitcherI, <a class="el" href="class_button_driver.html">ButtonDriver</a> *modeSwitcherI, <a class="el" href="classinput_queue.html">inputQueue</a> *inputQueueInstanceI, <a class="el" href="class_semaphore.html">Semaphore</a> *KnobSemaphoreI)</td></tr>
<tr class="separator:ad9efc69d04381610239f44003008ac97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e3feaa30f47215fa607a6c7db1c43c2" id="r_a2e3feaa30f47215fa607a6c7db1c43c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e3feaa30f47215fa607a6c7db1c43c2">checkForUpdates</a> ()</td></tr>
<tr class="separator:a2e3feaa30f47215fa607a6c7db1c43c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad342b0b66afb46965090b444c59d81cf" id="r_ad342b0b66afb46965090b444c59d81cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structinput_values.html">inputValues</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad342b0b66afb46965090b444c59d81cf">queue_data</a> {}</td></tr>
<tr class="separator:ad342b0b66afb46965090b444c59d81cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_input_driver.html" title="InputDriver class holds pointers to all the other classes and uses them in an update function....">InputDriver</a> class holds pointers to all the other classes and uses them in an update function. The constructor for this class hold a pointer to three <a class="el" href="class_knob_driver.html" title="KnobDriver class determines if there is an input on any knobs present in the system (This system uses...">KnobDriver</a> classes, one <a class="el" href="class_switch_driver.html" title="SwitchDriver class determines if there is an input on the switch present in the system (This system u...">SwitchDriver</a> class, and one <a class="el" href="class_button_driver.html" title="ButtonDriver class determines if there is an input on the button present in the system (This system u...">ButtonDriver</a> class. It also holds a pointer to an <a class="el" href="classinput_queue.html" title="Queue for the outputDriver to the display.">inputQueue</a> instance, which is the location that all the inputs will be enqueued to, as well as a semaphore instance for the Knobs which will run all three knobs at the same time. The <a class="el" href="class_input_driver.html" title="InputDriver class holds pointers to all the other classes and uses them in an update function....">InputDriver</a> class also initializes an <a class="el" href="structinput_values.html" title="contains the values to be enqueued from the input driver">inputValues</a> struct which is where all the data from the inputs will be placed to be enqueued. The "checkForUpdates" member function does three things. Firstly, it fills the inputValue struct with values of 0 and then calls all the update functions from each instantiated input. The in this function the knob input driver update functions are only called when the semaphore reads true, this is done with two variables, knobSemaContents and knobSemaStatus, and an if statement. In each call of checkForUpdates, the struct will be filled with the proper inputs from the knob, button, and switch drivers. Secondly, after the <a class="el" href="structinput_values.html" title="contains the values to be enqueued from the input driver">inputValues</a> struct has been filled with the inputs from the latest call of the checkForUpdates function, each portion of the struct will be compared with a "no change" value, if there has been any change the <a class="el" href="structinput_values.html" title="contains the values to be enqueued from the input driver">inputValues</a> struct is immediately enqueued into the <a class="el" href="classinput_queue.html" title="Queue for the outputDriver to the display.">inputQueue</a>. Thirdly, in order for there to be a "no change" value for the switch, which only relays its current logic level, checkForUpdates runs a very basic state machine for the past and present values of the switch to detect if there has been any change. This uses two variables, switchPastState and switchPreviousState. </p>
<p>Calls all update functions and enqueues input data </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>instance of <a class="el" href="structinput_values.html" title="contains the values to be enqueued from the input driver">inputValues</a> struct that is filled with input data and enqueued (used in checkForUpdates) </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad9efc69d04381610239f44003008ac97" name="ad9efc69d04381610239f44003008ac97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9efc69d04381610239f44003008ac97">&#9670;&#160;</a></span>InputDriver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InputDriver::InputDriver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_knob_driver.html">KnobDriver</a> *</td>          <td class="paramname"><span class="paramname"><em>AmpKnobI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_knob_driver.html">KnobDriver</a> *</td>          <td class="paramname"><span class="paramname"><em>FreqKnobI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_knob_driver.html">KnobDriver</a> *</td>          <td class="paramname"><span class="paramname"><em>ShiftKnobI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_switch_driver.html">SwitchDriver</a> *</td>          <td class="paramname"><span class="paramname"><em>channelSwitcherI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_button_driver.html">ButtonDriver</a> *</td>          <td class="paramname"><span class="paramname"><em>modeSwitcherI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinput_queue.html">inputQueue</a> *</td>          <td class="paramname"><span class="paramname"><em>inputQueueInstanceI</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_semaphore.html">Semaphore</a> *</td>          <td class="paramname"><span class="paramname"><em>KnobSemaphoreI</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2e3feaa30f47215fa607a6c7db1c43c2" name="a2e3feaa30f47215fa607a6c7db1c43c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e3feaa30f47215fa607a6c7db1c43c2">&#9670;&#160;</a></span>checkForUpdates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InputDriver::checkForUpdates </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad342b0b66afb46965090b444c59d81cf" name="ad342b0b66afb46965090b444c59d81cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad342b0b66afb46965090b444c59d81cf">&#9670;&#160;</a></span>queue_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structinput_values.html">inputValues</a> InputDriver::queue_data {}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Users/townl/Documents/GitHub/Signal_Generator/Code/Core/Inc/<a class="el" href="nathan_8h_source.html">nathan.h</a></li>
<li>C:/Users/townl/Documents/GitHub/Signal_Generator/Code/Core/Src/<a class="el" href="nathan_8cpp.html">nathan.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
